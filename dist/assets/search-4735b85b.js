import{c as $,E,d as g,o as n,e as o,f as r,g as t,v as L,w as T,p as i,F as y,k as h,j as x,h as _,t as d,l as A}from"./index-60e5bf44.js";import{_ as B}from"./gvb_footer.vue_vue_type_style_index_0_lang-29b6c941.js";import{_ as M}from"./gvb_footer-4585375f.js";import{g as N}from"./article_api-61275ba2.js";import{g as V}from"./date-d051bfca.js";import{g as D}from"./tag_api-71a518c5.js";import"./gvb_user_info-c13ee589.js";import"./logout-12528159.js";import"./user_api-595c9794.js";const I={class:"search_view"},S={class:"gvb_base_container"},z={class:"gvb_inner_container"},F={class:"gvb_search_head"},K={class:"gvb_search_ipt"},P={class:"gvb_search_btn"},j={class:"gvb_search_action"},H={class:"gvb_search_order"},O={class:"gvb_search_tags"},R=["onClick"],U={class:"gvb_search_result"},G=["href"],Q=["src"],J={class:"info"},W={class:"title"},X=["href","innerHTML"],Y={class:"icon"},Z={key:0},tt=t("i",{class:"fa fa-thumbs-up"},null,-1),st={key:1},et=t("i",{class:"fa fa-comments"},null,-1),at={key:2},nt=t("i",{class:"fa fa-star-o"},null,-1),ot={key:3},ct=t("i",{class:"fa fa-eye"},null,-1),it=t("i",{class:"fa fa-clock"},null,-1),lt={key:0,class:"node_article_list"},rt={class:"gvb_search_page"},bt={__name:"search",setup(_t){const s=$({query:{key:"",page:1,limit:100,sort:"",tag:""},total:20,tag_list:[{tag:"python",count:8},{tag:"golang",count:8},{tag:"前端",count:8}],article_list:[{abstract:`我的信息



<template>
  <div class="gvb_user_info_bg">
    <div class="gvb_user_info_view">
      <div `,banner_id:14,banner_url:"/uploads/file/235920pM89Q.jpg",category:"后台课程",collects_count:1,comment_count:0,created_at:"2023-07-11 00:45:16",digg_count:0,id:"2iBpzgrdgyhBRkquV",link:"",look_count:0,source:"",tags:["前端"],title:"个人中心",updated_at:"2023-07-11 00:45:16",user_avatar:"/uploads/avatar/default.png",user_id:2,user_nick_name:"zhangsan"}],simpleImage:E.PRESENTED_IMAGE_SIMPLE});function l(c){s.query.sort=c,u()}function v(c){s.query.tag=c,u()}function f(){u()}function m(){s.query.page=1,u()}async function u(){let c=await N(s.query);s.article_list=c.data.list,s.total=c.data.count}async function k(){let c=await D();s.tag_list=c.data.list}return u(),k(),(c,a)=>{const b=g("a-input"),q=g("a-button"),C=g("a-empty"),w=g("a-pagination");return n(),o("div",I,[r(B,{is_show:""}),t("div",S,[t("div",z,[t("div",F,[t("div",K,[r(b,{placeholder:"搜索你想要的内容",value:s.query.key,"onUpdate:value":a[0]||(a[0]=e=>s.query.key=e),onKeydown:L(m,["enter"])},null,8,["value","onKeydown"])]),t("div",P,[r(q,{type:"primary",onClick:m},{default:T(()=>[_("搜索")]),_:1})])]),t("div",j,[t("div",H,[t("span",{class:i({active:s.query.sort===""}),onClick:a[1]||(a[1]=e=>l(""))},"综合排序",2),t("span",{class:i({active:s.query.sort==="created_at asc"}),onClick:a[2]||(a[2]=e=>l("created_at asc"))},"最早发布",2),t("span",{class:i({active:s.query.sort==="created_at desc"}),onClick:a[3]||(a[3]=e=>l("created_at desc"))},"最新发布",2),t("span",{class:i({active:s.query.sort==="look_count desc"}),onClick:a[4]||(a[4]=e=>l("look_count desc"))},"最多浏览",2),t("span",{class:i({active:s.query.sort==="digg_count desc"}),onClick:a[5]||(a[5]=e=>l("digg_count desc"))},"最多点赞",2),t("span",{class:i({active:s.query.sort==="comment_count desc"}),onClick:a[6]||(a[6]=e=>l("comment_count desc"))},"最多评论",2),t("span",{class:i({active:s.query.sort==="collects_count desc"}),onClick:a[7]||(a[7]=e=>l("collects_count desc"))},"最多收藏",2)]),t("div",O,[t("span",{class:i({active:s.query.tag===""}),onClick:a[8]||(a[8]=e=>v(""))},"全部标签",2),(n(!0),o(y,null,h(s.tag_list,(e,p)=>(n(),o("span",{class:i({active:s.query.tag===e.tag}),onClick:dt=>v(e.tag),key:p},d(e.tag),11,R))),128))])]),t("div",U,[(n(!0),o(y,null,h(s.article_list,(e,p)=>(n(),o("div",{class:"gvb_search_result_item",key:p},[t("a",{href:"article/"+e.id,target:"_blank",class:"img"},[t("img",{src:e.banner_url,alt:""},null,8,Q)],8,G),t("div",J,[t("div",W,[t("a",{href:"article/"+e.id,target:"_blank",innerHTML:e.title},null,8,X)]),t("div",Y,[s.query.sort==="digg_count desc"?(n(),o("span",Z,[tt,_(d(e.digg_count),1)])):s.query.sort==="comment_count desc"?(n(),o("span",st,[et,_(d(e.comment_count),1)])):s.query.sort==="collects_count desc"?(n(),o("span",at,[nt,_(d(e.collects_count),1)])):(n(),o("span",ot,[ct,_(d(e.look_count),1)])),t("span",null,[it,_(d(A(V)(e.created_at)),1)])])])]))),128))]),s.article_list.length===0?(n(),o("div",lt,[r(C,{image:s.simpleImage},null,8,["image"])])):x("",!0),t("div",rt,[r(w,{class:"article_list_page",current:s.query.page,"onUpdate:current":a[9]||(a[9]=e=>s.query.page=e),hideOnSinglePage:"",total:s.total,onChange:f,"show-total":e=>`共 ${e} 篇`},null,8,["current","total","show-total"])])])]),r(M)])}}};export{bt as default};
