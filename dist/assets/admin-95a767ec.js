import{b as S,c as L,r as K,a as $,u as T,G as R,d as h,o as s,i as b,w as u,e as m,F as y,k as w,g as t,p as C,t as k,h as q,f,z as j,j as B,l as A,T as N,H as X}from"./index-a4dd1763.js";import{_ as z,a as M}from"./gvb_user_info-29868ed3.js";import"./logout-5bcf33d9.js";import"./user_api-d483d288.js";const O="/images/checken_logo.png";const V={__name:"gvb_aside_menu",setup(g){const n=S(),_=L({menuList:[{id:1,icon:"fa-home",title:"首页",name:"home",children:[]},{id:2,icon:"fa-user-circle-o",title:"个人中心",name:"user_center",children:[{id:21,icon:"fa-vcard",title:"我的信息",name:"user_info"},{id:22,icon:"fa-user-plus",title:"我的发布",name:"user_article_list"},{id:23,icon:"fa-heart",title:"我的收藏",name:"user_collects"},{id:24,icon:"fa-desktop",title:"我的消息",name:"user_messages"}]},{id:3,icon:"fa-book",title:"文图管理",name:"wen_tu",children:[{id:31,icon:"fa-graduation-cap",title:"添加文章",name:"add_article",children:[]},{id:32,icon:"fa-gift",title:"文章管理",name:"article_list",children:[]},{id:33,icon:"fa-file-image-o",title:"图片管理",name:"image_list",children:[]},{id:34,icon:"fa-comment",title:"评论管理",name:"comment_list",children:[]}]},{id:4,icon:"fa-male",title:"用户管理",name:"users",children:[{id:41,icon:"fa-users",title:"用户列表",name:"user_list",children:[]},{id:42,icon:"fa-group",title:"群聊消息",name:"chat_list",children:[]},{id:43,icon:"fa-user-circle",title:"消息列表",name:"message_list",children:[]}]},{id:5,icon:"fa-cogs",title:"系统管理",name:"sys",children:[{id:51,icon:"fa-tree",title:"菜单列表",name:"menu_list",children:[]},{id:52,icon:"fa-sun-o",title:"广告列表",name:"advert_list",children:[]},{id:53,icon:"fa-server",title:"系统日志",name:"log_list",children:[]},{id:54,icon:"fa-globe",title:"项目配置",name:"system"}]}],openKeys:[]}),l=K([]),v=$(),c=T();function a(e,i){i!==void 0?n.setCrumb([i.title,e.title]):n.setCrumb([e.title]),n.addTab({name:e.name,title:e.title,parentTitle:i==null?void 0:i.title}),v.push({name:e.name})}function r(e){for(const i of _.menuList){if(i.name===e){l.value=[i.name];return}for(const o of i.children)if(o.name===e){l.value=[o.name],_.openKeys=[i.name];return}}}return R((e,i,o)=>{r(e.name),o()}),r(c.name),(e,i)=>{const o=h("a-menu-item"),p=h("a-sub-menu"),F=h("a-menu");return s(),b(F,{selectedKeys:l.value,"onUpdate:selectedKeys":i[0]||(i[0]=d=>l.value=d),mode:"inline","inline-collapsed":!1,"open-keys":_.openKeys},{default:u(()=>[(s(!0),m(y,null,w(_.menuList,d=>(s(),m(y,{key:d.name},[d.children.length===0?(s(),b(o,{key:d.name},{icon:u(()=>[t("i",{class:C("fa "+d.icon)},null,2)]),default:u(()=>[t("span",null,k(d.title),1)]),_:2},1024)):(s(),b(p,{key:d.name},{icon:u(()=>[t("i",{class:C("fa "+d.icon)},null,2)]),title:u(()=>[q(k(d.title),1)]),default:u(()=>[(s(!0),m(y,null,w(d.children,x=>(s(),b(o,{onClick:se=>a(x,d),key:x.name},{icon:u(()=>[t("i",{class:C("fa "+x.icon)},null,2)]),default:u(()=>[t("span",null,k(x.title),1)]),_:2},1032,["onClick"]))),128))]),_:2},1024))],64))),128))]),_:1},8,["selectedKeys","open-keys"])}}};const D={class:"gvb_aside"},E=t("div",{class:"gvb_aside_header flex"},[t("div",{class:"gvb_aside_logo flex"},[t("img",{src:O})]),t("div",{class:"gvb_aside_title flex"},"FIXPNG Base Admin")],-1),G={class:"gvb_aside_body;margin-bottom: 20px"},U={__name:"gvb_aside",setup(g){return(n,_)=>(s(),m("aside",D,[E,t("div",G,[f(V)])]))}},W={__name:"gvb_full_screen",setup(g){const n=K(!1);function _(){return document.fullscreenElement!==null}function l(){let c=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.exitFullScreen;if(c)c.call(document);else if(typeof window.ActiveXObject<"u"){let a=new ActiveXObject("WScript.Shell");a!=null&&a.SendKeys("{F11}")}}function v(){let c=document.documentElement;if(n.value=!n.value,_()){l();return}let a=c.requestFullScreen||c.webkitRequestFullScreen||c.mozRequestFullScreen||c.msRequestFullScreen;if(a)a.call(c);else if(typeof window.ActiveXObject<"u"){let r=new ActiveXObject("WScript.Shell");r!==null&&r.SendKeys("{F11}")}}return(c,a)=>n.value?(s(),m("i",{key:0,onClick:v,class:"iconfont icon-ln_quanpingtuichu"})):(s(),m("i",{key:1,onClick:v,class:"iconfont icon-ln_quanping"}))}};const H={class:"gvb_tabs"},P=["onClick"],J=["onClick"],Q={__name:"gvb_tabs",setup(g){const n=S(),_=T(),l=$();function v(e){return _.name===e.name?"gvb_tab_item active":"gvb_tab_item"}function c(e){e.parentTitle===void 0?n.setCrumb([]):n.setCrumb([e.parentTitle,e.title]),l.push({name:e.name,params:e.params,query:e.query})}function a(e){let i=n.removeTab(e);if(e.name===_.name){let o=i-1,p=n.tabList[o].name;l.push({name:p})}}function r(){n.removeTabAll(),l.push({name:"home"})}return window.onbeforeunload=function(){n.saveTabs()},(e,i)=>(s(),m("div",H,[(s(!0),m(y,null,w(A(n).tabList,(o,p)=>(s(),m("div",{class:C(v(o)),key:p,onClick:F=>c(o)},[q(k(o.title)+" ",1),o.name!=="home"?(s(),m("span",{key:0,onClick:j(F=>a(o),["stop"]),class:"gvb_tab_remove_icon"},"×",8,J)):B("",!0)],10,P))),128)),t("div",{class:"gvb_tab_item remove_all",onClick:r}," 全部关闭 ")]))}},Y={__name:"gvb_bread_crumb",setup(g){const n=$(),_=T(),l=S();function v(){let a=_.name;if(a!=="home")for(const r of l.tabList)a===r.name&&l.setCrumb([r.parentTitle,r.title])}v();function c(a){n.push({name:a})}return(a,r)=>{const e=h("a-breadcrumb-item"),i=h("a-breadcrumb");return s(),b(i,null,{default:u(()=>[f(e,null,{default:u(()=>[t("a",{href:"javascript:void (0)",onClick:r[0]||(r[0]=o=>c("admin_index"))},"首页")]),_:1}),(s(!0),m(y,null,w(A(l).bread_crumb_list,(o,p)=>(s(),b(e,{key:p},{default:u(()=>[q(k(o),1)]),_:2},1024))),128))]),_:1})}}};const Z={class:"gvb_admin"},I={class:"main"},ee={class:"left"},ne={class:"right"},te={class:"icon_actions"},ie={class:"gvb_view"},re={__name:"admin",setup(g){const n=$();S().loadTabs();function l(){n.push({name:"index"})}return(v,c)=>{const a=h("router-view");return s(),m("div",Z,[f(U),t("div",I,[t("header",null,[t("div",ee,[f(Y)]),t("div",ne,[t("div",te,[t("i",{class:"fa fa-home",onClick:l}),f(z),f(W)]),f(M,{"is-avatar":!0})])]),f(Q),t("main",null,[t("div",ie,[f(a,null,{default:u(({Component:r})=>[f(N,{name:"fade",mode:"out-in"},{default:u(()=>[(s(),b(X(r)))]),_:2},1024)]),_:1})])])])])}}};export{re as default};
