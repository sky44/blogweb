import{b as T,l as u,o as e,e as o,a as x,u as B,c as I,d as _,g as l,j as N,f as c,w as i,F as v,k as V,i as k,t as g,z as j,h as R}from"./index-a4ff3a35.js";import{l as A}from"./logout-9bf6b406.js";const G={__name:"gvb_theme",setup(p){const a=T();a.loadTheme(),a.theme;function r(){a.setTheme()}return(t,n)=>u(a).theme?(e(),o("i",{key:0,class:"fa fa-sun-o",onClick:r})):(e(),o("i",{key:1,class:"fa fa-moon-o",onClick:r}))}};const F={class:"gvb_user_info"},S={key:0,class:"avatar"},$=["src"],z={class:"drop_menu"},D=l("i",{class:"fa fa-angle-down"},null,-1),E={href:"javascript:void (0)"},L=l("a",{href:"javascript:;"},"注销退出",-1),H={__name:"gvb_user_info",props:{isAvatar:{type:Boolean,default:!1}},setup(p){const a=p,r=x();B();const t=T(),n=I({menu_list:[{title:"我的信息",name:"user_info",parentTitle:"个人中心"},{title:"我的收藏",name:"user_collects",parentTitle:"个人中心"},{title:"我的消息",name:"user_messages",parentTitle:"个人中心"}]});(t.userInfo.role===1||t.userInfo.role===3)&&(n.menu_list.push({title:"line"}),n.menu_list.push({title:"添加文章",name:"add_article",parentTitle:"文图管理"}),n.menu_list.push({title:"文章管理",name:"article_list",parentTitle:"文图管理"}),n.menu_list.push({title:"用户列表",name:"user_list",parentTitle:"用户管理"}),n.menu_list.push({title:"系统日志",name:"log_list",parentTitle:"系统管理"}));function y(s){t.setCrumb([s.parentTitle,s.title]),t.addTab({name:s.name,title:s.title,parentTitle:s.parentTitle}),r.push({name:s.name})}return(s,d)=>{const f=_("a-menu-item"),h=_("a-menu-divider"),C=_("a-menu"),b=_("a-dropdown");return e(),o("div",F,[a.isAvatar?(e(),o("div",S,[l("img",{src:u(t).userInfo.avatar,alt:""},null,8,$)])):N("",!0),l("div",z,[c(b,{placement:"bottomRight"},{overlay:i(()=>[c(C,null,{default:i(()=>[(e(!0),o(v,null,V(n.menu_list,(m,w)=>(e(),o(v,{key:w},[m.title!=="line"?(e(),k(f,{key:0,onClick:M=>y(m)},{default:i(()=>[l("a",E,g(m.title),1)]),_:2},1032,["onClick"])):(e(),k(h,{key:1}))],64))),128)),c(h),c(f,{onClick:u(A)},{default:i(()=>[L]),_:1},8,["onClick"])]),_:1})]),default:i(()=>[l("a",{class:"ant-dropdown-link",onClick:d[0]||(d[0]=j(()=>{},["prevent"]))},[R(g(u(t).userInfo.nick_name)+" ",1),D])]),_:1})])])}}};export{G as _,H as a};
