import{u as B,e as D}from"./article_api-4091d731.js";import{i as N}from"./image_api-c8b8668a.js";import{_ as j}from"./gvb_table-e975e912.js";import{a as E}from"./tag_api-36863e89.js";import{b as F,a as M,r as f,c as x,d as h,o as a,e as l,i as I,j as o,f as r,w as c,m as O,t as d,h as p,F as U,k as H}from"./index-a4dd1763.js";import{_ as J}from"./gvb_article_modal-33e49817.js";import"./date-d051bfca.js";const R={key:0},S=["innerHTML"],$=["src"],z={key:3,class:"gvb_article_data"},K={key:4,class:"gvb_article_abstract"},W={key:5,class:"gvb_article_tags"},et={__name:"user_collects",setup(Y){F(),M();const g=f(null),y=f(null),m=f(null),u=x({tagOptions:[],categoryOptions:[],imageOptions:[]}),i=x({list:[{abstract:"这是一条a'a'aaaa请求",banner_id:1,banner_url:"uploads/file/checken_logo.png",category:"python",collects_count:0,comment_count:0,created_at:"2023-05-03 15:00:32",digg_count:0,id:"aWRp4IcBBgJj1CYJpMIt",look_count:0,tags:["python","后端","前端","python","后端","前端"],title:"python测试2",updated_at:"2023-05-03 15:00:32",user_avatar:"/uploads/avatar/default.jpg",user_id:2,user_nick_name:"zhangsan"}],columns:[{title:"Index",dataIndex:"index",key:"index"},{title:"文章标题",dataIndex:"title",key:"title"},{title:"文章分类",dataIndex:"category",key:"category"},{title:"文章简介",dataIndex:"abstract",key:"abstract"},{title:"作者",dataIndex:"user_nick_name",key:"user_nick_name"},{title:"封面",dataIndex:"banner_url",key:"banner_url"},{title:"文章数据",dataIndex:"data",key:"data"},{title:"标签",dataIndex:"tags",key:"tags"},{title:"收藏时间",dataIndex:"created_at",key:"created_at"},{title:"操作",dataIndex:"action",key:"action"}],tagOptions:[],categoryOptions:[],imageOptions:[],editVisible:!1,state:{title:"",abstract:"",banner_id:null,category:"",link:"",source:"",tags:[]},editID:""}),w=["red","blue","green","purple","cyan","orange","pink"];function C(_){return w[_]}async function L(_){let t=await B(i.editID,_);if(t.code){O.error(t.msg);return}O.success(t.msg),i.editVisible=!1,m.value.ExportList()}function k(){m.value.ExportList({tag:g.value,key:y.value})}async function V(){let _=await E();u.tagOptions=_.data;let t=await D();u.categoryOptions=t.data;let n=await N();u.imageOptions=n.data}return V(),(_,t)=>{const n=h("a-tag"),b=h("a-select");return a(),l("div",null,[i.editVisible?(a(),I(J,{key:0,visible:i.editVisible,"onUpdate:visible":t[0]||(t[0]=e=>i.editVisible=e),state:i.state,"init-data-state":u,"is-edit":"",onOk:L},null,8,["visible","state","init-data-state"])):o("",!0),r(j,{columns:i.columns,"base-url":"/api/articles/collects","like-title":"搜索文章标题",ref_key:"gvbTable",ref:m,"is-edit":!1,"is-add":!1,"default-delete":""},{cell:c(({column:e,record:s,index:A})=>[e.key==="index"?(a(),l("span",R,d(A+1),1)):o("",!0),e.key==="title"?(a(),l("span",{key:1,class:"gvb_article_title",innerHTML:s.title},null,8,S)):o("",!0),e.key==="banner_url"?(a(),l("img",{key:2,src:s.banner_url,alt:"",height:"60",style:{"border-radius":"5px"}},null,8,$)):o("",!0),e.key==="data"?(a(),l("div",z,[r(n,{class:"fa fa-eye"},{default:c(()=>[p(d(s.look_count),1)]),_:2},1024),r(n,{class:"fa fa-thumbs-o-up"},{default:c(()=>[p(d(s.digg_count),1)]),_:2},1024),r(n,{class:"fa fa-comment-o"},{default:c(()=>[p(d(s.comment_count),1)]),_:2},1024),r(n,{class:"fa fa-star-o"},{default:c(()=>[p(d(s.collects_count),1)]),_:2},1024)])):o("",!0),e.key==="abstract"?(a(),l("div",K,d(s.abstract),1)):o("",!0),e.key==="tags"?(a(),l("div",W,[(a(!0),l(U,null,H(s.tags,(T,v)=>(a(),I(n,{color:C(v),key:v},{default:c(()=>[p(d(T),1)]),_:2},1032,["color"]))),128))])):o("",!0)]),filters:c(()=>[r(b,{class:"gvb_select",value:g.value,"onUpdate:value":t[1]||(t[1]=e=>g.value=e),style:{width:"200px"},allowClear:"",onChange:k,options:u.tagOptions,placeholder:"筛选文章标签"},null,8,["value","options"]),r(b,{class:"gvb_select",value:y.value,"onUpdate:value":t[2]||(t[2]=e=>y.value=e),style:{width:"200px"},allowClear:"",onChange:k,options:u.categoryOptions,placeholder:"筛选文章分类"},null,8,["value","options"])]),_:1},8,["columns"])])}}};export{et as default};
