import{r as b,c as v,d as n,o as h,e as k,g as d,f as a,w as l,a4 as w,m,a5 as y,h as q}from"./index-60e5bf44.js";const U={class:"gvb_settings_box"},x=d("div",{class:"gvb_settings_head"}," 邮箱配置 ",-1),B={class:"gvb_setting_body"},C={class:"gb_settings_btn"},V={__name:"email_setting",setup(E){const _=b(null),e=v({host:"smtp.qq.com",port:465,user:"",password:"",default_from_email:"",use_ssl:!1,user_tls:!1});async function p(){let o=await w(e);if(o.code){m.error(o.msg);return}m.success(o.msg)}async function c(){let o=await y();Object.assign(e,o.data);try{await _.value.validate()}catch{return}}return c(),(o,s)=>{const u=n("a-input"),r=n("a-form-item"),i=n("a-switch"),f=n("a-form"),g=n("a-button");return h(),k("div",U,[x,d("div",B,[a(f,{model:e,name:"basic",ref_key:"formRef",ref:_,"label-align":"left","label-col":{span:3},"wrapper-col":{span:21},autocomplete:"off"},{default:l(()=>[a(r,{label:"邮箱域名",name:"host","has-feedback":"",rules:[{required:!0,message:"请输入邮箱域名",trigger:"blur"}]},{default:l(()=>[a(u,{value:e.host,"onUpdate:value":s[0]||(s[0]=t=>e.host=t),placeholder:"邮箱域名"},null,8,["value"])]),_:1}),a(r,{label:"邮箱端口",name:"port","has-feedback":"",rules:[{required:!0,message:"请输入邮箱端口",trigger:"blur"}]},{default:l(()=>[a(u,{value:e.port,"onUpdate:value":s[1]||(s[1]=t=>e.port=t),placeholder:"邮箱端口"},null,8,["value"])]),_:1}),a(r,{label:"邮箱",name:"user","has-feedback":"",rules:[{required:!0,message:"请输入邮箱",trigger:"blur"}]},{default:l(()=>[a(u,{value:e.user,"onUpdate:value":s[2]||(s[2]=t=>e.user=t),placeholder:"邮箱"},null,8,["value"])]),_:1}),a(r,{label:"密码",name:"password","has-feedback":"",rules:[{required:!0,message:"请输入密码",trigger:"blur"}]},{default:l(()=>[a(u,{value:e.password,"onUpdate:value":s[3]||(s[3]=t=>e.password=t),type:"password",placeholder:"密码"},null,8,["value"])]),_:1}),a(r,{label:"默认名称",name:"default_from_email","has-feedback":"",rules:[{required:!0,message:"请输入默认名称",trigger:"blur"}]},{default:l(()=>[a(u,{value:e.default_from_email,"onUpdate:value":s[4]||(s[4]=t=>e.default_from_email=t),placeholder:"默认名称"},null,8,["value"])]),_:1}),a(r,{label:"ssl",name:"use_ssl"},{default:l(()=>[a(i,{checked:e.use_ssl,"onUpdate:checked":s[5]||(s[5]=t=>e.use_ssl=t),placeholder:"ssl"},null,8,["checked"])]),_:1}),a(r,{label:"tls",name:"user_tls"},{default:l(()=>[a(i,{checked:e.user_tls,"onUpdate:checked":s[6]||(s[6]=t=>e.user_tls=t),placeholder:"tls"},null,8,["checked"])]),_:1})]),_:1},8,["model"])]),d("div",C,[a(g,{type:"primary",onClick:p},{default:l(()=>[q("修改信息")]),_:1})])])}}};export{V as default};
